(()=>{"use strict";var e={192:(e,t,a)=>{a.d(t,{Z:()=>n});var c=a(81),s=a.n(c),o=a(645),r=a.n(o)()(s());r.push([e.id,'*{margin:0;padding:0;box-sizing:border-box}.wrapper{max-width:1000px;margin:0 auto}.signal{padding:50px;text-align:center;font-size:3rem;font-weight:700;color:#6586b1}.editor{display:block;width:100%;height:20vh;padding:5px}.keyboard{width:calc(100% - 20px);margin:10px;padding:10px;display:flex;flex-wrap:wrap;gap:7px;border:3px solid #6e2c00;border-radius:10px;background-color:#784212;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none}.info{padding:50px;text-align:center;font-size:1.5rem;font-weight:400;color:#000}.key{position:relative;width:calc((100% - 14 * 7px)/15);height:50px;background-color:#3a424e;border:1px solid #000;border-radius:4px;text-align:center;color:#fff;overflow:hidden;box-shadow:0 0 0 0 #00f7ff;transition:border-radius .2s,box-shadow .2s;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none}.key__special{background-color:#242424}.key__size15{width:calc((100% - 14 * 7px) / 15 * 1.5 + 7px)}.key__size20{width:calc((100% - 14 * 7px) / 15 * 2 + 7px)}.key__size25{width:calc((100% - 14 * 7px) / 15 * 2.5 + 7px)}.key__size70{width:calc((100% - 14 * 7px) / 15 * 5.3 + 7px)}.key:hover{cursor:pointer;box-shadow:0 0 calc(7px / 2) calc(7px / 2) #00f7ff}.key.active{border-radius:25px;box-shadow:0 0 7px 7px #00f7ff}.key .noextra{position:static;display:inline;font:normal 400 15px "Arial",sans-serif;line-height:50px}.key .extra{position:absolute;left:0;top:0;display:block;width:50%;height:50%;font:normal 400 calc(15px / 1.5) "Arial",sans-serif;line-height:25px}.span-eng,.span-rus{display:none}.signal.switch-eng~.keyboard .span-eng{display:inline}.signal.switch-rus~.keyboard .span-rus{display:inline}.signal.switch-shift~.keyboard .key__extra .noextra{position:absolute;left:0;top:0;display:block;width:50%;height:50%;font:normal 400 calc(15px / 1.5) "Arial",sans-serif;line-height:25px}.signal.switch-shift~.keyboard .key__extra .extra{position:static;display:inline;font:normal 400 15px "Arial",sans-serif;line-height:50px}.signal.switch-shift~.keyboard .extra,.signal.switch-shift~.keyboard .noextra,.signal.switch-caps~.keyboard .extra,.signal.switch-caps~.keyboard .noextra{text-transform:capitalize}',""]);const n=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",c=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),c&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),c&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,c,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(c)for(var n=0;n<this.length;n++){var i=this[n][0];null!=i&&(r[i]=!0)}for(var d=0;d<e.length;d++){var h=[].concat(e[d]);c&&r[h[0]]||(void 0!==o&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=o),a&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=a):h[2]=a),s&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=s):h[4]="".concat(s)),t.push(h))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function a(e){for(var a=-1,c=0;c<t.length;c++)if(t[c].identifier===e){a=c;break}return a}function c(e,c){for(var o={},r=[],n=0;n<e.length;n++){var i=e[n],d=c.base?i[0]+c.base:i[0],h=o[d]||0,l="".concat(d," ").concat(h);o[d]=h+1;var u=a(l),p={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var y=s(p,c);c.byIndex=n,t.splice(n,0,{identifier:l,updater:y,references:1})}r.push(l)}return r}function s(e,t){var a=t.domAPI(t);return a.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,s){var o=c(e=e||[],s=s||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var n=a(o[r]);t[n].references--}for(var i=c(e,s),d=0;d<o.length;d++){var h=a(o[d]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}o=i}}},569:e=>{var t={};e.exports=function(e,a){var c=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(a)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,a)=>{e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var c="";a.supports&&(c+="@supports (".concat(a.supports,") {")),a.media&&(c+="@media ".concat(a.media," {"));var s=void 0!==a.layer;s&&(c+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),c+=a.css,s&&(c+="}"),a.media&&(c+="}"),a.supports&&(c+="}");var o=a.sourceMap;o&&"undefined"!=typeof btoa&&(c+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(c,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function a(c){var s=t[c];if(void 0!==s)return s.exports;var o=t[c]={id:c,exports:{}};return e[c](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var c in t)a.o(t,c)&&!a.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:t[c]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{class e{constructor(e,t,a=""){const c=document.createElement(t);""!==a&&(c.className=a),e.append(c),this.node=c}}const t=[{keycode:192,code:"Backquote",charEng:"`",charRus:"ё",extraEng:"~",extraRus:"Ё"},{keycode:49,code:"Digit1",charRus:"1",charEng:"1",extraEng:"!",extraRus:"!"},{keycode:50,code:"Digit2",charRus:"2",charEng:"2",extraEng:"@",extraRus:'"'},{keycode:51,code:"Digit3",charRus:"3",charEng:"3",extraEng:"#",extraRus:"№"},{keycode:52,code:"Digit4",charRus:"4",charEng:"4",extraEng:"$",extraRus:";"},{keycode:53,code:"Digit5",charRus:"5",charEng:"5",extraEng:"%",extraRus:"%"},{keycode:54,code:"Digit6",charRus:"6",charEng:"6",extraEng:"^",extraRus:":"},{keycode:55,code:"Digit7",charRus:"7",charEng:"7",extraEng:"&",extraRus:"?"},{keycode:56,code:"Digit8",charRus:"8",charEng:"8",extraEng:"*",extraRus:"*"},{keycode:57,code:"Digit9",charRus:"9",charEng:"9",extraEng:"(",extraRus:"("},{keycode:48,code:"Digit0",charRus:"0",charEng:"0",extraEng:")",extraRus:")"},{keycode:109,code:"Minus",charRus:"-",charEng:"-",extraEng:"_",extraRus:"_"},{keycode:61,code:"Equal",charRus:"=",charEng:"=",extraEng:"+",extraRus:"+"},{keycode:81,code:"Backspace",width:"key__size20",charRus:"Backspace",charEng:"Backspace",special:!0},{keycode:9,code:"Tab",charRus:"Tab",charEng:"Tab",special:!0},{keycode:81,code:"KeyQ",charRus:"й",charEng:"q"},{keycode:87,code:"KeyW",charRus:"ц",charEng:"w"},{keycode:69,code:"KeyE",charRus:"у",charEng:"e"},{keycode:82,code:"KeyR",charRus:"к",charEng:"r"},{keycode:84,code:"KeyT",charRus:"е",charEng:"t"},{keycode:89,code:"KeyY",charRus:"н",charEng:"y"},{keycode:85,code:"KeyU",charRus:"г",charEng:"u"},{keycode:73,code:"KeyI",charRus:"ш",charEng:"i"},{keycode:79,code:"KeyO",charRus:"щ",charEng:"o"},{keycode:80,code:"KeyP",charRus:"з",charEng:"p"},{keycode:219,code:"BracketLeft",charRus:"х",charEng:"[",extraEng:"{",extraRus:"Х"},{keycode:221,code:"BracketRight",charRus:"ъ",charEng:"]",extraEng:"}",extraRus:"Ъ"},{keycode:220,code:"Backslash",charRus:"\\",charEng:"\\",extraEng:"|",extraRus:"|"},{keycode:46,code:"Delete",charRus:"Del",charEng:"Del",special:!0},{width:"key__size15",keycode:20,code:"CapsLock",charRus:"CapsLock",charEng:"CapsLock",special:!0},{keycode:65,code:"KeyA",charRus:"ф",charEng:"a"},{keycode:83,code:"KeyS",charRus:"ы",charEng:"s"},{keycode:68,code:"KeyD",charRus:"в",charEng:"d"},{keycode:70,code:"KeyF",charRus:"а",charEng:"f"},{keycode:71,code:"KeyG",charRus:"п",charEng:"g"},{keycode:72,code:"KeyH",charRus:"р",charEng:"h"},{keycode:74,code:"KeyJ",charRus:"о",charEng:"j"},{keycode:75,code:"KeyK",charRus:"л",charEng:"k"},{keycode:76,code:"KeyL",charRus:"д",charEng:"l"},{keycode:186,code:"Semicolon",charRus:"ж",charEng:";",extraEng:":",extraRus:"Ж"},{keycode:222,code:"Quote",charRus:"э",charEng:"'",extraEng:'"',extraRus:"Э"},{width:"key__size25",keycode:13,code:"Enter",charRus:"Enter",charEng:"Enter",special:!0},{width:"key__size20",keycode:16,code:"ShiftLeft",charRus:"Shift",charEng:"Shift",special:!0},{keycode:90,code:"KeyZ",charRus:"я",charEng:"z"},{keycode:88,code:"KeyX",charRus:"ч",charEng:"x"},{keycode:67,code:"KeyC",charRus:"с",charEng:"c"},{keycode:86,code:"KeyV",charRus:"м",charEng:"v"},{keycode:66,code:"KeyB",charRus:"и",charEng:"b"},{keycode:78,code:"KeyN",charRus:"т",charEng:"n"},{keycode:77,code:"KeyM",charRus:"ь",charEng:"m"},{keycode:188,code:"Comma",charRus:"б",charEng:",",extraEng:"<",extraRus:"Б"},{keycode:190,code:"Period",charRus:"ю",charEng:".",extraEng:">",extraRus:"Ю"},{keycode:191,code:"Slash",charRus:".",charEng:"/",extraEng:"?",extraRus:","},{keycode:38,code:"ArrowUp",charRus:"&#8593;",charEng:"&#8593;",special:!0},{width:"key__size20",keycode:16,code:"ShiftRight",charRus:"Shift",charEng:"Shift",special:!0},{width:"key__size15",keycode:17,code:"ControlLeft",charRus:"Ctrl",charEng:"Ctrl",special:!0},{keycode:91,code:"MetaLeft",charRus:"Win",charEng:"Win",special:!0},{keycode:18,code:"AltLeft",charRus:"Alt",charEng:"Alt",special:!0},{width:"key__size70",keycode:32,code:"Space",charRus:"Space",charEng:"Space",special:!0},{keycode:18,code:"AltRight",charRus:"Alt",charEng:"Alt",special:!0},{width:"key__size15",keycode:17,code:"ControlRight",charRus:"Ctrl",charEng:"Ctrl",special:!0},{keycode:37,code:"ArrowLeft",charRus:"&#8592;",charEng:"&#8592;",special:!0},{keycode:40,code:"ArrowDown",charRus:"&#8595;",charEng:"&#8595;",special:!0},{keycode:39,code:"ArrowRight",charRus:"&#8594;",charEng:"&#8594;",special:!0}];var c=a(379),s=a.n(c),o=a(795),r=a.n(o),n=a(569),i=a.n(n),d=a(565),h=a.n(d),l=a(216),u=a.n(l),p=a(589),y=a.n(p),g=a(192),f={};f.styleTagTransform=y(),f.setAttributes=h(),f.insert=i().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=u(),s()(g.Z,f),g.Z&&g.Z.locals&&g.Z.locals;const k=new e(document.body,"div","wrapper"),x=new e(k.node,"div","signal");x.node.textContent="RS School Virtual Keyboard";const v=new e(k.node,"textarea","editor");v.node.value="Начальный текст\nдля проверки\nСмена раскладки клавиатуры - левые Shift + Ctrl",new e(document.body,"div","info").node.innerText="Клавиатура создана для операционной системы Windows\nДля переключения раскладки языка комбинация: левые Shift + Ctrl";let E=!0,R=!1,m=!1,w=!1,L=!1;const b=new e(k.node,"div","keyboard");function S(){E=!E,localStorage.setItem("keyb-lang",E),E?(x.node.classList.add("switch-eng"),x.node.classList.remove("switch-rus")):(x.node.classList.add("switch-rus"),x.node.classList.remove("switch-eng"))}function _(){const e=v.node.value.split("\n");let t=v.node.selectionStart,a=-1;for(;t>=0;)a+=1,t-=e[a].length+1;return t+=e[a].length+1,{line:a,pos:t,maxLine:e.length-1,lastLineLastPos:e[e.length-1].length}}function C(e){const t=v.node.value.split("\n");let a=0;for(let c=0;c<e.line;c+=1)a+=t[c].length+1;return a+=e.pos>t[e.line].length?t[e.line].length:e.pos,a}function K(e){let t="",a=v.node.selectionStart,c=v.node.selectionEnd;if(void 0===e.special)t=E?e.charEng:e.charRus,t=m?t.toUpperCase():t,R&&(t=void 0===e.extraEng?t.toUpperCase():E?e.extraEng:e.extraRus);else{let s;switch(t="",e.code){case"Enter":t="\n";break;case"Backspace":a===c&&(a-=1);break;case"Delete":t="",a===c&&(c+=1);break;case"Space":t=" ";break;case"Tab":t="    ";break;case"ArrowLeft":a>0&&(a-=1,c=a);break;case"ArrowRight":c<v.node.value.length&&(c+=1,a=c);break;case"ArrowUp":s=_(),0===s.line?s.pos=0:s.line-=1,a=C(s),c=a;break;case"ArrowDown":s=_(),s.line>=s.maxLine?s.pos=s.lastLineLastPos:s.line+=1,a=C(s),c=a}}v.node.setRangeText(t,a,c,"end"),setTimeout((()=>v.node.focus()))}function A(e){const a=t.find((t=>t.code===e.code));if(!a)return;e.preventDefault();const c=document.querySelector(`[data-keycode="${a.code}"]`);"keydown"===e.type?(c.classList.add("active"),K(a),"ShiftLeft"===e.code&&(R=!0,w=!0,L=!1,x.node.classList.add("switch-shift"),document.querySelector('[data-keycode="ShiftRight"]').classList.remove("active")),"ShiftRight"===e.code&&(R=!0,w=!1,L=!0,x.node.classList.add("switch-shift"),document.querySelector('[data-keycode="ShiftLeft"]').classList.remove("active")),"CapsLock"===e.key&&(m=!m,m?x.node.classList.add("switch-caps"):(x.node.classList.remove("switch-caps"),c.classList.remove("active"))),"ControlLeft"===e.code&&w&&(S(),document.querySelector('[data-keycode="ShiftLeft"]').classList.remove("active"),w=!1,R=!1,x.node.classList.remove("switch-shift"))):("CapsLock"!==e.key&&c.classList.remove("active"),"Shift"===e.key&&(R=!1,w=!1,L=!1,x.node.classList.remove("switch-shift")))}t.forEach((t=>{const a=new e(b.node,"div","key");a.node.dataset.keycode=t.code,void 0!==t.width&&a.node.classList.add(t.width),void 0!==t.special&&a.node.classList.add("key__special"),a.node.innerHTML=`<span class="noextra"><span class="span-eng">${t.charEng}</span><span class="span-rus">${t.charRus}</span></span>`,void 0!==t.extraEng&&(a.node.classList.add("key__extra"),a.node.innerHTML+=`<span class="extra"><span class="span-eng">${t.extraEng}</span><span class="span-rus">${t.extraRus}</span></span>`)})),b.node.addEventListener("mousedown",(e=>{const a=e.target.closest(".key");a&&(a.classList.add("active"),K(t.find((e=>e.code===a.dataset.keycode))),"ControlLeft"===a.dataset.keycode&&w&&S(),"ShiftLeft"===a.dataset.keycode||"ShiftRight"===a.dataset.keycode?("ShiftLeft"===a.dataset.keycode&&(document.querySelector('[data-keycode="ShiftRight"]').classList.remove("active"),L=!1,w=!w,R=w,w||a.classList.remove("active")),"ShiftRight"===a.dataset.keycode&&(document.querySelector('[data-keycode="ShiftLeft"]').classList.remove("active"),w=!1,L=!L,R=L,L||a.classList.remove("active"))):(R=!1,w&&(w=!1,document.querySelector('[data-keycode="ShiftLeft"]').classList.remove("active")),L&&(L=!1,document.querySelector('[data-keycode="ShiftRight"]').classList.remove("active"))),R?x.node.classList.add("switch-shift"):x.node.classList.remove("switch-shift"),"CapsLock"===a.dataset.keycode&&(m=!m,m?x.node.classList.add("switch-caps"):(x.node.classList.remove("switch-caps"),a.classList.remove("active"))))})),b.node.addEventListener("mouseup",(e=>{const t=e.target.closest(".key");t&&"ShiftLeft"!==t.dataset.keycode&&"ShiftRight"!==t.dataset.keycode&&"CapsLock"!==t.dataset.keycode&&t.classList.remove("active")})),b.node.addEventListener("mouseout",(e=>{const t=e.target.closest(".key");if(!t)return;const a=t.dataset.keycode;"ShiftLeft"!==a&&"ShiftRight"!==a&&"CapsLock"!==a&&t.parentNode.querySelector(":hover")!==t&&t.classList.remove("active")})),window.addEventListener("keydown",A),window.addEventListener("keyup",A);let z=localStorage.getItem("keyb-lang");z?"true"===z?(x.node.classList.add("switch-eng"),E=!0):(x.node.classList.add("switch-rus"),E=!1):(z=!0,x.node.classList.add("switch-eng"),localStorage.setItem("keyb-lang",!0)),v.node.focus()})()})();